language: cpp

matrix:
  include:
    # linux release build: gcc 5.4.0 on ubuntu 16.04
    - os: linux
      dist: xenial
      env:
        - CMAKE_GENERATOR=(-G "Unix Makefiles")
    - os: windows
      env:
        - CMAKE_GENERATOR=(-G "Visual Studio 14 2015" -A Win32)
        
addons:
  apt:
    packages:
    - gfortran

before_script:
  - cd ..
  - git clone -b v2.6.0 https://gitlab.dune-project.org/santiago.ospina/dune-common.git

script:
  - ./dune-common/bin/dunecontrol configure "${CMAKE_GENERATOR[@]}"
  - ./dune-common/bin/dunecontrol make
  